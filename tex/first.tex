\input{./inputs/preamble}

\begin{document}

\input{./inputs/title}

\input{./inputs/toc}

\structel{ВВЕДЕНИЕ}
За последние десятилетия произошел огромный скачок в развитии информационных технологий:
от создания первой электронной вычислительной машины, до сложный генеративных
нейронных сетей (GAN). Сейчас компании проводят множественные исследования
для выявления возможностей таких технологий и необходимости дальнейших
инвестиций в данную отрасль. Одним из представителей GAN стали большие языковые
модели (LLM). В настоящее время лидерами в данной отрасли стали: OpenAI,
которые придумали реализовать интерфейс для взаимодействия с нейройнной сетью 
в виде чата; ПАО Сбербанк, реализовавшие отечественную LLM в условиях изоляции
и ограниченных ресурсов; Meta (признана в РФ экстремистской организацией и 
запрещена), разработавшие малую языковую модель (SLM) LLaMA, ставшая прорывом 
для энтузиастов, у которых нет таких ресурсов для реализации LLM, как у 
больших игроков рынка.

В данной выпускной квалификационной работе 
будет разработана платформа, позволяющая взаимодействовать с ресурсами предприятия,
использующая LLM/SLM для генерации релевантных ответов.

Актуальность данной темы обсуловлена возможностью оптимизации многих процессов, 
увеличении производительности сотрудников, повышении лояльности клиентов.
В контексте высшего учебного заведения (ВУЗ), использование технологий подобного рода
повышает конкуретноспособность ВУЗа, что наряду с предыдущими пунктами является
положительной метрикой.

Объект исследования --- большие языковые модели (LLM).

Предмет исследования --- является применение языковых моделей для бизнеса.

Цель работы --- проектирование и разработка приложения, которое позволяет
взаимодействовать с структурой предприятий посредством приложения для 
коммуникации.

В качестве интерфейса для пользователя была выбрана оболочка в виде чат-бота.
Чат-боты давно вошли в жизнь большинства населения. Это подтверждается 
информацией аналитической компании <<eMarketer>>, согласно которой, чат-ботами
пользуются более 1,4 млрд. человек на планете.

Для выполнения поставленной цели были поставлены следующие задачи:
\begin{itemize}
    \item Выполнить анализ предметной области;
    \item Провести сравнительный анализ информационных систем;
    \item Изучить сроки реализации проекта;
    \item Смоделировать схему бизнес-процессов;
    \item Составить описание документов бизнес-процессов;
    \item Сформировать перечень требований к ИС;
    \item Исследовать подходы SWOT
    \item Описать сценарии вариантов использования;
    \item Визуализировать описанные сценарии вариантов использования;
    \item Создать модель диаграммы компонентов;
    \item Создать модель диаграммы развертывания;
    \item Реализовать бизнес-логику ассистента и перенести его в интерфейс бота;
\end{itemize}

В работе будет рассматриваться РГГМУ (далее Университет), но применяться бот
сможет не только в конкретном учебном заведении, а для любых предприятий.

Во время разработки ассистента использовалась методология Agile. Она позволила
работать в удобном темпе и формировать требования во время разработки.

В ходе выполнения практической части выпускной квалификационной
работы были использованы:

Python 3.13, LangChain, FAISS, HuggingFace.

\sect{Предпроектный анализ}\\
\subsect{Анализ предметной области}\\

Индустрия информационных технологий является одной из наиболее динамичных и 
быстроразвивающихся отраслей, где каждый год появляются новые тенденции и
совершенствуются технологии, которые позволяют улучшить пользовательский опыт 
и приносить большую выгоду бизнесу. Одной из ключевых технологий стала 
технология трансформер, предложенная в статье “Attention is all you need”.

Одной из ключевых особенностей трансформеров является их способность 
обрабатывать большие объемы текста без потери информации для выполнения задач
таких как машинный перевод, обработка естественного языка, когнитивный анализ
текста и генерирование текста. Трансформер состоит из блоков кодировщиков и
декодеров, которые обрабатывают входные данные и генерируют выходные данные.
Большое количество параметров сети позволяет ей улучшить качество работы по 
сравнению с другими моделями. В последнее время наблюдается тренд
на внедрение больших языковых моделей в различные отрасли бизнеса, например
системы автоматических ответов на вопросы, чат-боты, умные помощники. 

Преимуществом таких решений является быстрый поиск информации и выдача её в
удобоваримом виде, когда без использования таких ассистентов на поиск
необходимой информации может потребоваться достаточный промежуток времени.
В данной дипломной работе предлагается разработать информационную 
систему-помощника в виде чат-бота который будет представлять собой полезный
инструмент как для студентов, так и для сотрудников ВУЗа. Основная идея
информационной системы состоит в том, чтобы получить универсальный инструмент
для взаимодействия со всей структурой университета. В рамках чат-бота 
пользователь сможет получить всю необходимую информацию, например информацию о
заселении в общежития, списке необходимых документов для поступления т.п.

В общем и целом, интеграция технологии больших языковых моделей является
актуальной и перспективной темой для дипломной работы, которая позволит изучить
основы построения архитектуры приложения, интеграции технологий в предприятия,
основы работы с нейросетями и машинным обучением, а также тестирования решений,
где нет очевидных метрик для измерения результата.

\subsect{Сравнительный анализ}\\

На данный момент прямых конкурентов у моего решения нет, но я не отрицаю того,
что в настоящий момент может разрабатываться схожее решение. Из схожих решений
можно отметить следующие решения:

Боты от университетов. Такие решения не имеют возможности масштабирования,
имеют ограниченный пул вопрос/ответ и привязанны к какой-то определенной
платформе.

Virtual Spirits. Эта зарубежная компания специализируется на создании на создании
чат-ботов для различных предприятий. Из преемуществ имеется возможность настройки
внешнего вида бота.

\begin{longtbl}{сравнительный анализ}
    {Сравнительный анализ}
    {N{3cm}|N{3cm}|N{3cm}|N{3cm}}
        
    Информационная система & 
    \thead>{3cm}{Удобный сбор информации} & 
    \thead>{3cm}{Возможность неявного поиска} & 
    \thead>{3cm}{Необходимость аутентификации} \\\hline
\endhead
    \mr{3}{Virtual Spirits} & \mr{3}{-} & - & + \\\hline
    \mr{4}{ИС от ВУЗ} & \mr{4}{-} & - & + \\\hline
    \mr{5}{Моя ИС} & \mr{5}{+} & + & - 

\end{longtbl}
Опираясь на проведенный анализ можно подвести некоторый итог:
В итоговой системе не будет системы авторизации, так как мне кажется, что вся
информация должна быть в открытом доступе для всех возможных пользователей ИС.

Под удобным сбором информации подразумевается интутивно понятный процесс 
заполнения базы знаний, который может осуществляться как вручную, так и при 
помощи API, парсинга или других методов получения информации.

Возможность получать информацию не связанную с обучением мне кажется одним из
ключевых преимуществ моей информационной системы: для абитуриентов может быть
важно получить информацию как о возможном расписании, так и о постулении в ВУЦ,
получении БСК или же информации о истории университета.

\subsect{Системный анализ}\\

Исследование проектируемой ИС проводилось в виде нескольких типов 
анализа: SWOT и ISA.

SWOT-анализ — метод стратегического планирования, суть которого заключается в 
выявлении факторов внутренней и внешней среды организации и разделении их на 
четыре категории: Strengths, Weaknesses, Opportunities, Threats.
Сильные и слабые стороны представляют факторы внутренней среды объекта анализа.
В свою очередь возможность и угрозы представляют собой внешнюю среду
объекта анализа.

\begin{longtbl}{swot}
    {SWOT анализ}
    {N{2cm}|N{6.5cm}|N{6.5cm}}
        
 & \thead>{6.5cm}{Положительное влияние} & \thead>{6.5cm}{Негативное влияние}  \\\hline
\endhead
\mr{1}{Внутренняя среда} & \mr{1}{--- Актуальность\\--- Простота использования}
& --- Нейросетевые галюцинации  \\
&& --- Необходимость тщательно прорабатывать интеграцию во избежание
проблем с безопасностью \\\hline
\mr{2}{Внешняя среда} & \mr{2}{--- Упрощение навигации по ресурсам ВУЗа\\
--- Получение поддержки от государства }
& --- Регуляции со стороны государства  \\
&& --- Бюрократия с какой-либо стороны
\end{longtbl}

Из положительных аспектов можно выделить простоту конечного использования и
улучшение взаимодействие с предприятием. 

Из отрицательных факторов стоит выделить следующие аспекты: нейросетевые 
галюцинации, проблемы с безопасность и бюрократия. 

Нейросетевые галюцинации --- аномалия, возникающая во время работы нейронной 
сети, влияющая на вывод результат непредсказуемым образом. Например, спросив
о технической оснащенности предприятия нейросеть может начать галлюцинировать и
ответить, что у предприятия есть несколько квантовых суперкомпьютеров, хотя это 
не так. Частично решить эту проблему может грамотный промт-инженеринг, а так
же правильное подмешивание контекста в сам промт.

Проблемы с безопасность можно отнести в ту же категорию. Если занести секретные
данные в базу знаний, то велик шанс утечки информации и попадание её в руки 
злоумышленников. Для обхода этой проблемы нужно внимательно относиться к
информации, которую вы собираетесь хранить в базе знаний и иметь базовые навыки
кибербезопасности.

Бюрократия же не позволит внедрить информационную систему, занести все 
необходимые данные без множества согласований и утверждений со стороны 
вышестоящего руководства.

\subsect{Требования к сервису}\\

Функциональные и нефункциональные требования должны быть определены до начала
реализации ИС, чтобы получить представление о конечном продукте.

Для классификации требований использовалась модель $FURPS$. В следующих 
таблицах были приведены функциональные и нефункциональные требования ИС. Эти 
требования характеризуют поведение ИС.


\begin{longtbl}{freq}
    {Функциональные требования}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead
\mr{1}{FUN\_1} & При начале общения бот должен представиться и рассказать о
своих возможностях \\\hline

\mr{1}{FUN\_2} & По требованию пользователя бот должен предоставить контактную
информацию вышестоящего руководства\\\hline

\mr{1}{FUN\_3} & По требованию пользователя бот должен предоставить информацию
о расписании\\\hline

\mr{1}{FUN\_4} & По требованию пользователя бот должен предоставить информацию
о списке направлений, на которые можно поступить с определенными предметами\\\hline

\mr{1}{FUN\_5} & По требованию пользователя бот должен предоставить информацию
о университете\\\hline

\mr{1}{FUN\_6} & По требованию пользователя бот должен предоставить актуальную 
информацию о местах проведения практики\\\hline

\mr{1}{FUN\_7} & По требованию пользователя бот должен предоставить информацию 
о проводимых мероприятиях внутри университета\\

\end{longtbl}

В следующих таблицах описаны нефункциональные требования.

\begin{longtbl}{freq}
    {Удобство использования}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead

\caption*{Продолжение таблицы \thetable} \\
\hline
Номер требования & \thead>{14cm}{Описание} \\\hline
\endhead

\mr{1}{NFR\_1} & Пользователю предоставляется информация о сервисе \\\hline

\mr{1}{NFR\_2} & Использование сервиса не требует от пользователя какого-либо 
обучения\\\hline

\mr{1}{NFR\_3} & Бот предоставляет как текстовый, так и голосовой интерфейс
для общения\\\hline

\mr{1}{NFR\_4} & По требованию пользователя бот должен предоставить информацию
о списке направлений, на которые можно поступить с определенными предметами\\\hline

\mr{1}{NFR\_5} & Информация, предоставляемая ботом должна быть избыточной\\

\end{longtbl}

В следующей таблице описаны требования к надежности сервиса.

\begin{longtbl}{freq}
    {Надежность сервиса}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead

\caption*{Продолжение таблицы \thetable} \\
\hline
Номер требования & \thead>{14cm}{Описание} \\\hline
\endhead

\mr{1}{REL\_1} & Сервиса должен работать 24 часа в сутки 7 дней в неделю, за 
исключением технических перерывов. \\\hline

\mr{1}{REL\_2} & Точность предоставляемой информации зависит от предоставляемых
организацией данных\\

\end{longtbl}

В следующей таблице описаны требования к производительности сервиса.

\begin{longtbl}{freq}
    {Производительность сервиса}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead

\caption*{Продолжение таблицы \thetable} \\
\hline
Номер требования & \thead>{14cm}{Описание} \\\hline
\endhead

\mr{1}{PER\_1} & На генерацию ответа у сервиса должно уходить не более
10 секунд\\\hline

\mr{1}{PER\_2} & Для работы боту необходимо: постоянный выход в сеть интернет,
    4ГиБ оперативной памяти. Так же, опционально, чтобы бот был полностью автономен
    необходима видеокарта уровня RTX 3060 и выше для размещения сервиса на SLM
    В противном случае необходимо пользоваться посредником в виде LLM от Сбербанк,
    OpenAI, Mistral и т.п.
\end{longtbl}

\begin{longtbl}{freq}
    {Поддержка сервиса}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead

\caption*{Продолжение таблицы \thetable} \\
\hline
Номер требования & \thead>{14cm}{Описание} \\\hline
\endhead

\mr{1}{SUP\_1} & Установка сервиса осуществляется при помощи сценариев\\\hline

\mr{1}{SUP\_2} & Сервис должен поддерживать как работу с различными типами 
данных, поступающими от предприятия
\end{longtbl}

\begin{longtbl}{freq}
    {Требования к безопасности}
    {N{2.5cm}|N{14cm}}
        
Номер требования & \thead>{14cm}{Описание} \\\hline
\endfirsthead

\caption*{Продолжение таблицы \thetable} \\
\hline
Номер требования & \thead>{14cm}{Описание} \\\hline
\endhead

\mr{1}{SAF\_1} & Сервис должен использовать протокол HTTPS для обмена
информацией\\

\end{longtbl}

Изложенные требования в полной мере описывают работу ИС и позвляют реализовать
корректную работу приложения.

\subsect{Сроки реализации проекта}\\
Для оценки требуемых ресурсов – времени и денег, разработаем график работ. 
Распишем основные блоки работ – это анализ, проектирование, разработка и
документирование. Таким образом получаем, что на разработку системы потребуется
259 дней, что является довольно быстрым сроком. Для оценки стоимости проекта
возьмем средние зарплаты специалистов и получим что на оплату труда уйдет 1,38
миллиона рублей. График работ представлен на рисунке~\ref{Диаграмма временных затрат.png}
позволяет наглядно оценить длительность и стоимость работ.

\fig[1.0]{Диаграмма временных затрат.png}{Диаграмма затрат}

Так же для наглядности временных затрат была использована <<диаграмма Ганта>>,
позволяющая наглядно отследить каждый этап разработки информационной системы.

\fig[1.0]{Диаграмма Ганта.png}{Диаграмма Ганта}

\sect{Проектирование информационной системы}\\
\subsect{Концептуальное проектирование}\\

Для отображения функциональности системы используется диаграмма вариантов
использования, представленная на рисунке~\ref{Диаграмма вариантов использования.drawio.png}.
\fig{Диаграмма вариантов использования.drawio.png}{Диаграмма вариантов использования}

Актор \emph{Пользователь} является обобщением клиентов, которые использует 
систему. Прецедент Приветствует отражает требование FUN\_1. Этот и другие
прецеденты описывают субъект Бот, который на диаграмме выделен рамкой.
Прецедент Рассказывает о возможностях отражает требование FUN\_1.
Актор Образовательная организация является источником данных, которые 
необходимы субъекту. Прецедент \emph{Информация о организации}
используется для логического объединения других прецедентов, в цели уменьшения 
количества связей на диаграмме и облегчить ее восприятие.
\fig[0.3]{Схема перемещения данных.drawio.png}{Схема перемещения данных}

\subsect{Диаграмма компонентов}

Диаграмма компонентов описывает физическое представление системы и является
структурной диаграммой языка унифицированного моделирования. Она определяет
архитектуру разрабатываемой системы, устанавливая зависимости между 
программными компонентами. Кроме того, она предоставляет разработчикам и
архитекторам общую картину архитектуры системы, помогает им лучше понимать ее
структуру и взаимосвязи, а также является полезным инструментом для
коммуникации и документирования архитектурных решений.

\fig{Диаграмма компонентов.png}{Диаграмма компонентов}

\subsect{Диаграмма развертывания}

Диаграмма развертывания – это тип UML-диаграммы, которая показывает архитектуру
исполнения системы, включая такие узлы, как аппаратные или программные среды
исполнения, а также промежуточное программное обеспечение, соединяющее их. 
Для каких задач строят диаграммы развертывания:

\begin{enumerate}
    \item Визуализация полной структуры исходного кода
    \item Визуализация узлов системы для определения слабых мест
    \item Обеспечение многократного использования отдельных фрагментов
        программного кода
\end{enumerate}

Диаграмма разрабатываемой информационной системы содержит несколько узлов: 
сервер базы знаний внутри университета, сервер приложения, сервер мессенджера,
на котором базируется бот, конечный аппарат, при помощи которого будет 
производиться взаимодействие с информационной системой.

\fig{Диаграмма развертывания.png}{Диаграмма развертывания}

%Благодаря концептуальной модели достигается понятного представления 
%проектируемой ИС. Декомпозиция архитектры приложения позволяет понять как 
%должна работать ИС. Концептуальная модель — это диаграмма, которая описывает 
%свойства объекта в запланированной структуре и причинно-следственные 
%связи, необходимые для достижения цели.  
%
%На основе разработанных требований была составлена концептуальная 
%модель~\ref{Диаграмма взаимодействия.png} взаимодействия пользователя и 
%информационной системы. Пунктирные стрелки обозначают неявные действия,
%которые пользователь не видит.
%
%\fig[0.8]{Диаграмма взаимодействия.png}{Концептуальная модель 1}
%
%\fig[0.3]{Концептуальная модель.png}{Концептуальная модель 2}
%
%Основными сущностями моей ИС являются: пользователи

\subsect{Диаграмма последовательности}
Последовательность работы приложения показано на рисунке

~\ref{Диаграмма последовательности.png}

\fig{Диаграмма последовательности.png}{Диаграмма последовательности}\\

Пользователь вводит запрос в текстовом формате или формате аудио. Если
сообщение передано в аудиоформате, то происходит расшифровка аудиозаписи.
Далее полученный текст преобразуется в векторное представление, после чего
происходит извлечение подходящих документов методом ближайших соседей (KNN)
из базы знаний, сформированной из документов в базе данных.

Далее, наиболее релевантные документы подмешиваются к запросу языковой модели,
после чего языковая модель генерирует ответ, опираясь на полученный контекст.

\subsect{Схема базы данных}

В качестве базы данных для хранения изначальных документов для построения 
retirivial использовалась система управления базами данных (СУБД) PostgreSQL.
Данное решение обладает рядом преимуществ: высокая производительность при 
работе с большими объемами информации; PostgreSQL является свободным 
программным обеспечением, что позволяет использовать данное ПО для любых 
нужд на бесплатной основе; удобство использования и возможность удобного 
переноса данных из других баз данных. Данные пункты стали ключевыми при выборе 
СУБД для хранения информации. 

Такой выбор СУБД позволяет обеспечить высокую отказоустойчивость. Схема 
хранения данных внутри базы данных указана на рисунке
~\ref{Схема базы данных.png}

\fig[0.5]{Схема базы данных.png}{Схема хранения документов}
В качестве базы данных для хранения представления векторных корпусов из 
документов была выбрана FAISS, так как: её удобно использовать, она использует
меньше памяти, чем другие базы данных для векторов, можно использовать 
вычислительные мощности как процессора, так и видеокарты.

\fig{Схема векторизации документов.png}{Схема векторизации документов}

\subsect{Развертывание приложения}
Планируется, что приложение будет размещаться на мощностях образовательного
учреждения. Для упрощения внедрения было принято решение разработать скрипт
для контейнеризации приложения.

В качестве базового образа был выбран образ с GNU Linux в качестве
операционной системы.
GNU Linux является свободным программым обеспечением, что позволяет
использовать его для любых нужд.

\fig{Dockerfile.png}{Файл контейнеризации}
Данный файл позволяет создать контейнер, содержащий все необходимые 
необходимые для работы зависимости

\sect{Разработка системы}
\subsect{Выбор средств разработки}

В качестве языка программирования для разработки системы был выбран Python. 
Выбор связан с набором ПО, необходимым для функционирования сервиса, который
был определен на последнем этапе проектирования. Также Python является
наиболее подходящим языком для работы с искусственным интеллектом, для
него имеется много библиотек, нацеленных на решение конкретных проблем.

В качестве системы управления версиями был выбран Git. В качестве системы 
управления репозиториями был выбран GitHub. С недавнего времени GitHub 
располагает возможностью для создания бесплатных приватных репозиториев ---
никто, кроме авторизовазанных пользователей не будет иметь доступа к вашему
репозиторию.

В качестве системы для написания кода был выбран текстовый редактор NeoVim.
NVim ориентирован на разработку без мыши, что позитивно влияет на скорость 
разработки; можно запустить без графического окружения рабочего стола, что
позволяет использовать данный текстовый редактор как на домашнем персональном
компьютере, так и на сервере, не имеющим графической оболочки.

Для верстки PDF-документа был использован \LaTeX. С использованием пакетов
данный инструмент позволяет достичь отличных результатов для написания
текстовых документов. Так же данное программное обеспечение является свободным.

\subsect{Расчет фактических затрат на реализацию}
\subsect{Расчет ожидаемого результата экономической эффективности}
\subsect{Расчет надежности программного и аппаратного обеспечения}

\subsect{Что-то про структуру приложения}
\subsect{Что-то про извлечение сущности из фраз пользователя и их метчинг с сущностями из базы знаний}
\subsect{Что-то про метод ближайших соседей и обогащение ответа}
\subsect{Что-то про генерацию ответа}

\showbib

\end{document}
